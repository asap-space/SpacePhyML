<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="Jonah Ekelund">
        <link rel="canonical" href="https://jonah-e.github.io/SpacePhyML/user_guide/dataset_creator/">
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Dataset Creator - SpacePhyML</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/fontawesome.min.css" rel="stylesheet">
        <link href="../../css/brands.min.css" rel="stylesheet">
        <link href="../../css/solid.min.css" rel="stylesheet">
        <link href="../../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <link href="../../assets/_mkdocstrings.css" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">SpacePhyML</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item">
                                <a href="../.." class="nav-link">Home</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../quick_start/" class="nav-link">Quick Start</a>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle active" aria-current="page" role="button" data-bs-toggle="dropdown"  aria-expanded="false">User Guide</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../overview/" class="dropdown-item">Overview</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Datasets</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../datasets_mms/" class="dropdown-item">MMS</a>
</li>
    </ul>
  </li>
                                    
<li>
    <a href="./" class="dropdown-item active" aria-current="page">Dataset Creator</a>
</li>
                                    
<li>
    <a href="../examples/" class="dropdown-item">Examples</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">API</a>
                                <ul class="dropdown-menu">
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">datasets</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../reference/datasets/" class="dropdown-item">Index</a>
</li>
            
<li>
    <a href="../../reference/datasets/creator/" class="dropdown-item">creator</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">general</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../reference/datasets/general/" class="dropdown-item">Index</a>
</li>
            
<li>
    <a href="../../reference/datasets/general/mms/" class="dropdown-item">mms</a>
</li>
            
<li>
    <a href="../../reference/datasets/general/pandas/" class="dropdown-item">pandas</a>
</li>
            
<li>
    <a href="../../reference/datasets/general/spedaswrapper/" class="dropdown-item">spedaswrapper</a>
</li>
    </ul>
  </li>
            
<li>
    <a href="../../reference/datasets/mms/" class="dropdown-item">mms</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">models</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../reference/models/" class="dropdown-item">Index</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">arcs</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../reference/models/arcs/" class="dropdown-item">Index</a>
</li>
            
<li>
    <a href="../../reference/models/arcs/mms/" class="dropdown-item">mms</a>
</li>
    </ul>
  </li>
            
<li>
    <a href="../../reference/models/mms/" class="dropdown-item">mms</a>
</li>
    </ul>
  </li>
                                    
<li>
    <a href="../../reference/transforms/" class="dropdown-item">transforms</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">utils</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../reference/utils/" class="dropdown-item">Index</a>
</li>
            
<li>
    <a href="../../reference/utils/file_download/" class="dropdown-item">file_download</a>
</li>
            
<li>
    <a href="../../reference/utils/mms/" class="dropdown-item">mms</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../datasets_mms/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../examples/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="https://github.com/Jonah-E/SpacePhyML/edit/master/docs/user_guide/dataset_creator.md" class="nav-link"><i class="fa-brands fa-github"></i> Edit on GitHub</a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#dataset-creator" class="nav-link">Dataset Creator</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#cli" class="nav-link">CLI</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#loading-the-dataset" class="nav-link">Loading the dataset</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#olshevsky-labels" class="nav-link">Olshevsky labels</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="dataset-creator">Dataset Creator</h1>
<p>The dataset creator enables the creation of new datasets based on existing data and label
sources. The data set creator can be used either with the command line interface (CLI)
described below or in an python script using the API described <a href="../../reference/datasets/creator/">here</a>.</p>
<h2 id="cli">CLI</h2>
<p>The CLI for the dataset creator can be accessed using with the command</p>
<pre><code>spacephyml create [-h] [--label_source {Olshevsky,Unlabeled}]
                         [--start START] [--end END] [--force] [--clean]
                         [--samples SAMPLES] [--resample RESAMPLE]
                         [--var {...}]
                         output
</code></pre>
<p>The only required argument is the path to the output file (<code>output</code>). The output file
can be either in CSV or Feather format and is determined by the file extension of the given
output file. By default, a new dataset will not be created if the output file exists. This
can be forced by setting the flag <code>--force</code>.</p>
<p>Currently the creator supports creating datasets based of labels from
<a href="#olshevsky-labels">Olshevsky</a> or creating an unlabeled dataset. Creating a dataset based on
the Olshevsky labels currently does not support resampling and can only be done using
data from the FPI instrument on MMS1, see the variable <a href="#supported-variables">list below</a></p>
<p>The <code>--start</code> and <code>--end</code> flag gives the time range for creating the dataset.</p>
<p>When creating a labeled data set, you have the option of creating a clean data set without
and unknown labels. This done by setting the <code>--clean</code> flag. You can also select how many
samples of each label you want by setting the <code>--samples</code> flag.</p>
<p>When creating an unlabeled dataset, the dataset can be resampled to a sampling frequency specified by the <code>--resample</code> flag. This flag follow the rules from the <a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.resample.html">pandas resample function</a>.</p>
<h3 id="supported-variables">Supported variables</h3>
<p>Controlled by the <code>--var</code> flag.</p>
<table>
<thead>
<tr>
<th>Varible</th>
<th>Instrument</th>
</tr>
</thead>
<tbody>
<tr>
<td>mms1_dis_dist_fast</td>
<td>FPI</td>
</tr>
<tr>
<td>mms1_dis_energyspectr_omni_fast</td>
<td>FPI</td>
</tr>
<tr>
<td>mms1_dis_bulkv_gse_fast</td>
<td>FPI</td>
</tr>
<tr>
<td>mms1_dis_numberdensity_fast</td>
<td>FPI</td>
</tr>
<tr>
<td>mms1_dis_temppara_fast</td>
<td>FPI</td>
</tr>
<tr>
<td>mms1_dis_tempperp</td>
<td>FPI</td>
</tr>
</tbody>
</table>
<h2 id="loading-the-dataset">Loading the dataset</h2>
<p>Once created the dataset can be loaded using one of the general loaders.</p>
<table>
<thead>
<tr>
<th>Mission</th>
<th>Resampled</th>
<th>Dataset Class</th>
</tr>
</thead>
<tbody>
<tr>
<td>MMS</td>
<td>Yes</td>
<td><a href="../../reference/datasets/general/pandas/">PandasDataset</a></td>
</tr>
<tr>
<td>MMS</td>
<td>No</td>
<td><a href="../../reference/datasets/general/mms/">ExternalMMSData</a></td>
</tr>
</tbody>
</table>
<h2 id="olshevsky-labels">Olshevsky labels</h2>
<p>These labels are from the work of Olshevsky, et al.<sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup> who labeled data from the MMS1 spacecraft for November and December 2017. The labeled data is from the Earth's dayside and is labeled as one of the regions in the table below.</p>
<table>
<thead>
<tr>
<th style="text-align: center;">Label</th>
<th>Region</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">-1</td>
<td>Undefined/Unknown</td>
</tr>
<tr>
<td style="text-align: center;">0</td>
<td>Solar Wind (SW)</td>
</tr>
<tr>
<td style="text-align: center;">1</td>
<td>Ion foreshock (IF)</td>
</tr>
<tr>
<td style="text-align: center;">2</td>
<td>Magnetosheath (MSH)</td>
</tr>
<tr>
<td style="text-align: center;">3</td>
<td>Magnetosphere (MSP)</td>
</tr>
</tbody>
</table>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>Olshevsky, V., <em>et al.</em> (2021). Automated classification of plasma regions using 3D particle energy distributions. Journal of Geophysical Research: Space Physics, <a href="https://doi.org/10.1029/2021JA029620">https://doi.org/10.1029/2021JA029620</a>&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
</ol>
</div></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
                <p>Copyright &copy; 2024 Jonah Ekelund</p>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js"></script>
        <script src="../../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
